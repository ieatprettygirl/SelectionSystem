<div align="center">

# Практическая работа №3
## Моя распределенная система:
![alt text](resources/600x900.webp)

</div>

## Цель

Обеспечить быстродействие и надёжность Вашей распределённой системы.  

## Задачи

1. Настроить CI-процесс для Вашей распределённой системы. Туда должны входить:
- Проверка линтером.  
- Проверка статическим анализатором.
- Автоматическое тестирование (имеет смысл разделить на Unit -> Integration -> E2E).
2. Применить одну из техник для масштабирования компонентов Вашей распределённой системы:  
**ВЫБРАНО!** Балансировщик нагрузки L4 или L7 + репликация компонента. Необходимо выбрать алгоритм балансировки. Реплицировать компонент на уровне контейнеров (через оркестратор, например, docker compose).
3. Добавить централизованное логирование микросервисов через GrayLog.
4. Обновить или дописать необходимые тесты.

## Реализация

## 1 Часть

### CI-процесс (пайплайн в гх) выглядит следующим образом:

![alt text](resources/pipline.png)

### Раздел "Actions":

![alt text](resources/ci.png)

### ***На эти сотни попыток мы НЕ смотрим! :)***

![alt text](resources/100.png)

## 2 Часть

Был реализован балансировщик нагрузок Nginx (будет воротами к серверу, API-Gateway было решено убрать, поскольку излишне) и реплецированы 2 основных микросервиса:

### Config фаилы Nginx:

![alt text](resources/conf1.png)

![alt text](resources/nginx2.png)

### Nginx в docker compose:

![alt text](resources/nginx_in_dc.png)

### Репликация 2-х микросервисов:

![alt text](resources/replic.png)

### Микросервисы (репликации) в docker compose:

![alt text](resources/docker-compose.png)

## 3 Часть

### GrayLog в docker compose:

![alt text](resources/graylog_dc.png)

Также скриншотом выше он есть в активных контейнерах. Работоспособность централизованного логирования представлена на скриншотах наже (на примере добавления пользователя).

![alt text](resources/auth-log.png)

### Логи после отправки запроса через постман:

![alt text](resources/graylog_info.png)


## 4 Часть

Тесты были обновлены и проверяются при каждом пуше\пулл реквесте в ветку main в CI.

![alt text](resources/pushpull.png)